@page "/"
@inject IJSRuntime JSRuntime
@using SpaceBlazor.Shared

<PageTitle>SpaceBlazor - The Astral Frontier</PageTitle>

<div style="position: relative; width: 100vw; height: 100vh; overflow: hidden;">
    <Hud />
    <canvas id="renderCanvas" style="width: 100%; height: 100%; touch-action: none; outline: none;" tabindex="1"></canvas>
</div>

@code {
    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            await Task.Delay(100); // Small yield
            await JSRuntime.InvokeVoidAsync("spaceRenderer.init", "renderCanvas");
        }
    }
}
